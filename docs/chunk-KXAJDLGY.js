import{a as B,d as G,e as L,f as q,g as j}from"./chunk-I3FGFK4G.js";import{b as h,f as b,g as v,h as w}from"./chunk-V7WEOHOC.js";import"./chunk-ZSSD5RUB.js";import{a as x,b as _,c as P,f as F,g as O,h as i,j as S,k as R,l as k,n as l,o as y,p as E,q as N,r as D,t as I}from"./chunk-PMXNRM6D.js";import{a as C,c as M}from"./chunk-JX5K4SI3.js";import"./chunk-R62S3IJH.js";import{Cb as u,Ob as n,Ta as d,Ya as m,db as p,ob as g,rc as f,tb as o,ub as t,vb as s}from"./chunk-J7T7TGAC.js";var A=class c{constructor(e,r,a){this.authService=e;this.router=r;this.snackBar=a}registerForm=new k({username:new l("",[i.required,i.minLength(3)]),email:new l("",[i.required,i.email]),password:new l("",[i.required,i.minLength(6)])});isLoading=!1;onRegister(e){if(this.registerForm.invalid||this.isLoading)return;this.isLoading=!0;let r={username:this.registerForm.value.username,email:this.registerForm.value.email,password:this.registerForm.value.password};this.authService.register(r).subscribe({next:()=>{this.isLoading=!1,this.showSnackbar("Registration successful!"),this.router.navigate(["/home"])},error:a=>{this.isLoading=!1,this.handleRegistrationError(a)}})}handleRegistrationError(e){console.error("Registration error:",e),e.status===0?this.showSnackbar("Network error - please check your connection"):e.status===400?this.showSnackbar("Email already exists"):this.showSnackbar("Registration failed - please try again later")}showSnackbar(e){this.snackBar.open(e,"Close",{duration:3e3,panelClass:["snackbar-success"]})}get username(){return this.registerForm.get("username")}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}static \u0275fac=function(r){return new(r||c)(m(w),m(h),m(b))};static \u0275cmp=p({type:c,selectors:[["app-register"]],decls:19,vars:1,consts:[[1,"container"],[1,"register-form",3,"ngSubmit","formGroup"],["appearance","fill"],["matInput","","formControlName","username","required",""],["matInput","","type","email","formControlName","email","required",""],["matInput","","type","password","formControlName","password","required",""],["mat-button","","type","submit"]],template:function(r,a){r&1&&(o(0,"mat-card",0)(1,"mat-card-title"),n(2,"Register"),t(),o(3,"mat-card-content")(4,"form",1),u("ngSubmit",function(){return a.onRegister()}),o(5,"mat-form-field",2)(6,"mat-label"),n(7,"Username"),t(),s(8,"input",3),t(),o(9,"mat-form-field",2)(10,"mat-label"),n(11,"Email"),t(),s(12,"input",4),t(),o(13,"mat-form-field",2)(14,"mat-label"),n(15,"Password"),t(),s(16,"input",5),t(),o(17,"button",6),n(18,"Register"),t()()()()),r&2&&(d(4),g("formGroup",a.registerForm))},dependencies:[f,F,x,P,_,L,G,B,j,q,M,C,I,y,O,S,R,D,E,N,v],styles:[".container[_ngcontent-%COMP%]{width:90%;max-width:450px;min-height:500px;margin:2rem auto;padding:2rem;border-radius:12px;box-shadow:0 4px 20px #0000001a;background-color:#f5f5f5cc;display:flex;flex-direction:column;justify-content:center;transition:all .3s ease}.container[_ngcontent-%COMP%]:hover{box-shadow:0 6px 24px #00000026}.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]{background-color:#1e1e1ecc;color:#f5f5f5}.container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#27a737;font-size:2rem;font-weight:600;margin-bottom:2rem;text-align:center}.register-form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:1.25rem}.register-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.register-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0}.register-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-form-field-outline[_ngcontent-%COMP%]{background-color:#fff;border-radius:4px}.register-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{margin-top:1rem;padding:.75rem;background-color:#27a737;color:#fff;font-weight:500;font-size:1rem;border-radius:4px;transition:all .2s ease;text-transform:uppercase;letter-spacing:.5px}.register-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#23712b;transform:translateY(-2px)}.register-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:active{transform:translateY(0)}@media screen and (max-width: 768px){.container[_ngcontent-%COMP%]{width:95%;padding:1.5rem;margin:1rem auto;min-height:450px}.register-form[_ngcontent-%COMP%]{gap:1rem}}@media screen and (max-width: 576px){.container[_ngcontent-%COMP%]{width:100%;padding:1rem;margin:0 auto}}"]})};export{A as RegisterComponent};
