import{a as p}from"./chunk-PJ3AQUIE.js";import{Q as a,V as n,_ as s,m as i,w as o}from"./chunk-CNWUKFZV.js";var l=class e{constructor(t){this.http=t}apiUrl="http://localhost:3000/history";getHistory(){return this.http.get(this.apiUrl)}addToHistory(t){let r={quoteId:t._id,content:t.content,author:t.author,tags:t.tags,viewedAt:new Date().toISOString()};return this.http.post(this.apiUrl,r)}clearHistory(){return this.http.get(this.apiUrl).pipe(a(t=>{if(t.length===0)return i({message:"History already empty"});let r=t.map(c=>this.http.delete(`${this.apiUrl}/${c.id}`));return o(r)}))}static \u0275fac=function(r){return new(r||e)(s(p))};static \u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"})};export{l as a};
