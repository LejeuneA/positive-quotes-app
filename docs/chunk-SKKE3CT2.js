import{a as L}from"./chunk-FGU6JFWI.js";import{a as R}from"./chunk-L3GM65V2.js";import{a as j}from"./chunk-N6Z5AHIL.js";import{a as T}from"./chunk-TGCUYJZT.js";import"./chunk-3WDAKNUP.js";import{b as S,h as H}from"./chunk-V7WEOHOC.js";import"./chunk-ZSSD5RUB.js";import{b as I,c as F}from"./chunk-JX5K4SI3.js";import{a as Q,b as w}from"./chunk-VMK7JVKO.js";import"./chunk-R62S3IJH.js";import{Cb as l,Eb as p,Ob as c,Pb as P,Qb as b,Ta as a,Ya as m,db as u,fa as C,ga as v,hb as h,nc as y,ob as g,oc as k,qb as M,rc as x,tb as o,ub as i,vb as d,zb as O}from"./chunk-J7T7TGAC.js";var f=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=u({type:r,selectors:[["app-search"]],decls:4,vars:0,consts:[["action","https://www.google.com/search","method","GET","target","_blank"],["type","text","name","q","placeholder","Search Google..."],["type","submit"]],template:function(e,n){e&1&&(o(0,"form",0),d(1,"input",1),o(2,"button",2),c(3,"Search"),i()())},styles:["form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:2rem 0;flex-wrap:wrap;gap:1rem}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.8rem;width:30rem;border:1px solid #666;border-radius:4px}@media screen and (max-width: 768px){form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 1.1rem;margin-left:.8rem;background-color:#27a737;color:#f5f5f5;border:none;border-radius:4px;cursor:pointer}"]})};function U(r,t){if(r&1){let e=O();o(0,"div",10),l("click",function(){let s=C(e).$implicit,_=p(2);return v(_.selectCategory(s))}),c(1),i()}if(r&2){let e=t.$implicit,n=p(2);M("active",n.selectedCategory===e),a(),b(" ",e," ")}}function $(r,t){if(r&1&&(o(0,"div",8),h(1,U,2,3,"div",9),i()),r&2){let e=p();a(),g("ngForOf",e.categories)}}var E=class r{constructor(t,e,n,s,_){this.authService=t;this.quoteService=e;this.favoriteService=n;this.historyService=s;this.router=_;this.authService.currentUser$.subscribe(q=>{this.currentUser=q}),this.fetchRandomQuote()}categories=["motivational","inspirational","success","happiness","wisdom","love","friendship","life"];selectedCategory=null;currentUser;currentQuote=this.getDefaultQuote();isLoading=!1;getDefaultQuote(){return{_id:"default",content:"Click a category to get started",author:"",tags:[]}}selectCategory(t){if(this.selectedCategory===t){this.selectedCategory=null,this.fetchRandomQuote();return}this.selectedCategory=t,this.isLoading=!0,this.quoteService.getRandomQuoteByCategory(t).subscribe({next:e=>{this.currentQuote=e,this.isLoading=!1},error:()=>{this.currentQuote=this.quoteService.getFallbackQuote(),this.isLoading=!1}})}fetchRandomQuote(){this.isLoading=!0,this.quoteService.getRandomQuote().subscribe({next:t=>this.handleNewQuote(t),error:()=>{this.currentQuote=this.quoteService.getFallbackQuote(),this.isLoading=!1}})}refreshQuote(){this.selectedCategory?this.selectCategory(this.selectedCategory):this.fetchRandomQuote()}toggleFavorite(){this.currentQuote.favorited?this.favoriteService.removeFavorite(this.currentQuote._id).subscribe(()=>{this.currentQuote.favorited=!1}):this.favoriteService.addFavorite(this.currentQuote).subscribe(()=>{this.currentQuote.favorited=!0})}shareQuote(){let t=`"${this.currentQuote.content}" - ${this.currentQuote.author}`,e=`https://twitter.com/intent/tweet?text=${encodeURIComponent(t)}`;window.open(e,"_blank")}handleNewQuote(t){this.currentQuote=t,this.authService.isAuthenticated()&&this.historyService.addToHistory(t).subscribe(),this.isLoading=!1}navigateToCategories(){this.router.navigate(["/categories"])}static \u0275fac=function(e){return new(e||r)(m(H),m(L),m(R),m(j),m(S))};static \u0275cmp=u({type:r,selectors:[["app-home"]],decls:17,vars:6,consts:[[1,"home-container"],[1,"content-container"],[3,"quote","author","isLoading"],[1,"action-buttons"],["mat-icon-button","",3,"click","color"],["mat-icon-button","",3,"click"],[1,"categories-title",3,"click"],["class","categories-container",4,"ngIf"],[1,"categories-container"],["class","category-pill",3,"active","click",4,"ngFor","ngForOf"],[1,"category-pill",3,"click"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1),d(2,"app-quote",2),o(3,"div",3)(4,"button",4),l("click",function(){return n.toggleFavorite()}),o(5,"mat-icon"),c(6),i()(),o(7,"button",5),l("click",function(){return n.shareQuote()}),o(8,"mat-icon"),c(9,"share"),i()(),o(10,"button",5),l("click",function(){return n.refreshQuote()}),o(11,"mat-icon"),c(12,"refresh"),i()()(),d(13,"app-search"),o(14,"h1",6),l("click",function(){return n.navigateToCategories()}),c(15,"Categories"),i(),h(16,$,2,1,"div",7),i()()),e&2&&(a(2),g("quote",n.currentQuote.content||"")("author",n.currentQuote.author||"Unknown")("isLoading",n.isLoading),a(2),g("color",n.currentQuote.favorited?"warn":""),a(2),P(n.currentQuote.favorited?"favorite":"favorite_border"),a(10),g("ngIf",n.currentUser))},dependencies:[x,y,k,T,f,F,I,w,Q],styles:[".home-container[_ngcontent-%COMP%]{position:relative;margin-top:5rem;width:60%;padding:2rem;margin-left:auto;margin-right:auto;background-color:#f5f5f5cc;color:#f5f5f5;border-radius:8px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:10;box-shadow:0 4px 20px #00000026}.dark-mode[_nghost-%COMP%]   .home-container[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .home-container[_ngcontent-%COMP%]{background-color:#1e1e1ecc;color:#f5f5f5}.home-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;color:#27a737}.home-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#ff5722}.home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%}.home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .categories-title[_ngcontent-%COMP%]{text-align:center;margin:1.5rem 0;font-size:1.3rem;font-weight:600;color:#27a737;cursor:pointer;transition:color .2s ease}.home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .categories-title[_ngcontent-%COMP%]:hover{color:#ff5722}.home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.8rem;margin:1rem auto;padding:0 1rem}.home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .category-pill[_ngcontent-%COMP%]{padding:.6rem 1.2rem;background-color:#27a73780;border-radius:2rem;cursor:pointer;transition:all .2s ease;font-size:.9rem;color:#f5f5f5;border:1px solid rgba(39,167,55,.8)}.home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .category-pill[_ngcontent-%COMP%]:hover{background-color:#27a737cc;transform:translateY(-2px)}.home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .category-pill.active[_ngcontent-%COMP%]{background-color:#27a737;color:#f5f5f5;font-weight:500;box-shadow:0 2px 8px #27a7374d}.dark-mode[_nghost-%COMP%]   .home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .category-pill[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .category-pill[_ngcontent-%COMP%]{background-color:#27a73780;color:#f5f5f5}.dark-mode[_nghost-%COMP%]   .home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .category-pill[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .category-pill[_ngcontent-%COMP%]:hover{background-color:#27a737cc;transform:translateY(-2px)}.dark-mode[_nghost-%COMP%]   .home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .category-pill.active[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .home-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .category-pill.active[_ngcontent-%COMP%]{background-color:#27a737;color:#f5f5f5;font-weight:500;box-shadow:0 2px 8px #27a7374d}@media screen and (max-width: 576px){.home-container[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:auto;width:90%}}.dark-mode[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]{background-color:#1e1e1e99;color:#f5f5f5}.dark-mode[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .category-pill[_ngcontent-%COMP%]{background-color:#27a73733;color:#47d458;border-color:#27a73766}.dark-mode[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .category-pill[_ngcontent-%COMP%]:hover{background-color:#27a7374d}.dark-mode[_ngcontent-%COMP%]   .home-container[_ngcontent-%COMP%]   .category-pill.active[_ngcontent-%COMP%]{background-color:#27a737;color:#1e1e1e}"]})};export{E as HomeComponent};
