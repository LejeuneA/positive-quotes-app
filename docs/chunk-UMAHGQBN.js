import{B as l,a as p}from"./chunk-VTL4EFYG.js";import{Q as a,V as n,_ as s,m as i,w as o}from"./chunk-MMUXBZSV.js";var c=class e{constructor(t){this.http=t}apiUrl=`${l.jsonServerUrl}/history`;getHistory(){return this.http.get(this.apiUrl)}addToHistory(t){let r={quoteId:t._id,content:t.content,author:t.author,tags:t.tags,viewedAt:new Date().toISOString()};return this.http.post(this.apiUrl,r)}clearHistory(){return this.http.get(this.apiUrl).pipe(a(t=>{if(t.length===0)return i({message:"History already empty"});let r=t.map(h=>this.http.delete(`${this.apiUrl}/${h.id}`));return o(r)}))}static \u0275fac=function(r){return new(r||e)(s(p))};static \u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"})};export{c as a};
