<!-- Background component -->
<app-background></app-background>

<!-- Main content container -->
<div class="main-container" [ngClass]="{ 'dark-mode': isDarkMode }">
  <!-- Header with theme toggle button -->
  <header>
    <div class="header-content">
      <a routerLink="/"> <!-- ✅ Clicking the logo goes to Home -->
        <img src="assets/logo/pqa_logo.png" alt="Quote Icon" class="header-icon" />
      </a>
      <h1>STAY POSITIVE AND HAPPY</h1>
    </div>
    <button mat-icon-button (click)="toggleTheme()">
      <mat-icon>{{ isDarkMode ? "light_mode" : "dark_mode" }}</mat-icon>
    </button>

    <!-- Show login/register only when NOT on login or register pages -->
    <ng-container *ngIf="!isAuthPage()">
      <button mat-button routerLink="/login">Login</button>
      <button mat-button routerLink="/register">Register</button>
    </ng-container>
  </header>

  <!-- Show Quote & Search only when NOT on login/register pages -->
  <ng-container *ngIf="!isAuthPage()">
    <app-quote></app-quote> <!-- ✅ Only one instance of app-quote -->
    <app-search></app-search>
  </ng-container>

  <!-- Navigation bar (always visible) -->
  <nav>
    <a mat-button routerLink="/">Home</a>
    <a mat-button routerLink="/categories">Categories</a>
    <a mat-button routerLink="/history">History</a>
    <a mat-button routerLink="/settings">Settings</a>
  </nav>

  <!-- Router outlet for other pages -->
  <router-outlet></router-outlet>
</div>